<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Efficiently computes F1 scores for all elements of a vector containing keywords,
or a list containing dictionaries, when used in DDR method."><title>Get F1 scores for many words or dictionaries. — get_many_F1s • dictvectoR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get F1 scores for many words or dictionaries. — get_many_F1s"><meta property="og:description" content="Efficiently computes F1 scores for all elements of a vector containing keywords,
or a list containing dictionaries, when used in DDR method."><meta property="og:image" content="https://thieled.github.io/dictvectoR/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dictvectoR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/from_text_to_measurement.html">from_text_to_measurement</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/thieled/dictvectoR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get F1 scores for many words or dictionaries.</h1>
      <small class="dont-index">Source: <a href="https://github.com/thieled/dictvectoR/blob/HEAD/R/get_F1.R" class="external-link"><code>R/get_F1.R</code></a></small>
      <div class="d-none name"><code>get_many_F1s.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Efficiently computes F1 scores for all elements of a vector containing keywords,
or a list containing dictionaries, when used in DDR method.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_many_F1s</span><span class="op">(</span></span>
<span>  <span class="va">words</span>,</span>
<span>  <span class="va">model</span>,</span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">reference</span>,</span>
<span>  text_field <span class="op">=</span> <span class="st">"text"</span>,</span>
<span>  replace_na <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean-sd"</span>, <span class="st">"min"</span>, <span class="fl">0</span>, <span class="cn">F</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>words</dt>
<dd><p>A character vector containing keywords, or a list of character vectors
containing dictionaries.</p></dd>


<dt>model</dt>
<dd><p>A fastText model, loaded by <code><a href="https://pommedeterresautee.github.io/fastrtext/reference/load_model.html" class="external-link">fastrtext::load_model()</a></code>.</p></dd>


<dt>df</dt>
<dd><p>A data.frame containing one annotated document per row.</p></dd>


<dt>reference</dt>
<dd><p>Name of the binary reference column in <code>df</code> (character).</p></dd>


<dt>text_field</dt>
<dd><p>Name of column in <code>df</code> that contains the text of the documents.
Default is "text".</p></dd>


<dt>replace_na</dt>
<dd><p>Specifies the value used to replace NAs in the DDR measurement.
Default is 'mean-sd'. Can take values:</p><ul><li><p><code>'mean-sd'</code> (charcter): replace NAs by mean - 1sd. Default.</p></li>
<li><p><code>'min'</code> (charcter): replace NAs by minimum.</p></li>
<li><p><code>0</code> (numerical): replace NAs by 0.</p></li>
<li><p><code>FALSE</code> (logical): do not replace NAs.</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A numerical F1 score is returned for each element (i.e. word or dictionary) of
the vector or list.
The F1 scores indicate the performance of these words/dictionaries in predicting
a binary coding, when used in the DDR method.
The resulting gradual measure from the DDR measure is passed to a logistic regression,
with the binary coding as dependent variable.
Binary predictions are calculated from this logistic model and compared with the binary
coding.
The F1 score is the harmonic mean between Recall and Precision (1).</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>(1) Chinchor, N. (1992). MUC-4 evaluation metrics. Proceedings of the 4th
Conference on Message Understanding, 22–29.
<a href="https://doi.org/10.3115/1072064.1072067" class="external-link">https://doi.org/10.3115/1072064.1072067</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="cossim2dict.html">cossim2dict()</a></code>, <code><a href="get_prediction.html">get_prediction()</a></code>, <code><a href="get_F1.html">get_F1()</a></code>, <code><a href="get_many_RPFs.html">get_many_RPFs()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu">fastrtext</span><span class="fu">::</span><span class="fu"><a href="https://pommedeterresautee.github.io/fastrtext/reference/load_model.html" class="external-link">load_model</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>,</span></span>
<span class="r-in"><span>                               <span class="st">"tw_demo_model_sml.bin"</span>,</span></span>
<span class="r-in"><span>                                package <span class="op">=</span> <span class="st">"dictvectoR"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tw_annot</span> <span class="op"><a href="compound.html">%&lt;&gt;%</a></span> <span class="fu"><a href="clean_text.html">clean_text</a></span><span class="op">(</span>text_field <span class="op">=</span> <span class="st">"full_text"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dict_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dict_df</span><span class="op">$</span><span class="va">combis</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mehrheit deutschen"</span>, <span class="st">"merkel"</span>, <span class="st">"skandal"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"steuerzahler"</span>, <span class="st">"bundesregierung"</span>,</span></span>
<span class="r-in"><span>                      <span class="st">"komplett gescheitert"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="st">"arbeitnehmer"</span>, <span class="st">"groko"</span>, <span class="st">"wahnsinn"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dict_df</span><span class="op">$</span><span class="va">F1</span> <span class="op">&lt;-</span> <span class="fu">get_many_F1s</span><span class="op">(</span><span class="va">dict_df</span><span class="op">$</span><span class="va">combis</span>,</span></span>
<span class="r-in"><span>                           model <span class="op">=</span> <span class="va">model</span>,</span></span>
<span class="r-in"><span>                           df <span class="op">=</span> <span class="va">tw_annot</span>,</span></span>
<span class="r-in"><span>                           reference <span class="op">=</span> <span class="st">"pop"</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Daniel Thiele.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

