<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Returns combinations of keywords."><title>Get combinations of keywords — get_combis • dictvectoR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get combinations of keywords — get_combis"><meta property="og:description" content="Returns combinations of keywords."><meta property="og:image" content="https://thieled.github.io/dictvectoR/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dictvectoR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/from_text_to_measurement.html">from_text_to_measurement</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/thieled/dictvectoR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get combinations of keywords</h1>
      <small class="dont-index">Source: <a href="https://github.com/thieled/dictvectoR/blob/HEAD/R/get_combinations.R" class="external-link"><code>R/get_combinations.R</code></a></small>
      <div class="d-none name"><code>get_combis.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Returns combinations of keywords.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_combis</span><span class="op">(</span></span>
<span>  <span class="va">word_df</span>,</span>
<span>  word_field <span class="op">=</span> <span class="st">"words"</span>,</span>
<span>  dims <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  min_per_dim <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">max_overall</span>,</span>
<span>  limit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  save_settings <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  save_input <span class="op">=</span> <span class="cn">F</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>word_df</dt>
<dd><p>A <a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a> containing a column with words or multi-word expressions.</p></dd>


<dt>word_field</dt>
<dd><p>character. Default is <code>'words'</code>. The name of the column in
word_df that contains the words.</p></dd>


<dt>dims</dt>
<dd><p>character. Default is <code>NULL</code>. The name of the column in word_df that groups
the words into dimensions. Can be ignored.</p></dd>


<dt>min_per_dim</dt>
<dd><p>numerical. Default is <code>1</code>. Minimum number of words (per dimension)
returned. Will be replaced by 1 if &lt; 1.</p></dd>


<dt>max_overall</dt>
<dd><p>numerical. Maximum number of words per returned combination.</p></dd>


<dt>limit</dt>
<dd><p>numerical. Default is <code>NULL</code>. Limits the number of combinations of equal
length per dimension by randomization.</p></dd>


<dt>seed</dt>
<dd><p>numerical. Default is <code>1</code>. Input to make randomization reproducible.</p></dd>


<dt>save_settings</dt>
<dd><p>logical. Default is <code>TRUE</code>. Saves randomization settings in
df to make it reproducible.</p></dd>


<dt>save_input</dt>
<dd><p>logical. Default is <code>FALSE</code>. Saves input words and dims in df as
character string.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data.frame of combinations.
The combinations are stored as a <a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> of character vectors in <code>combs_split</code>.
Use this column to pass it to <code><a href="get_many_F1s.html">get_many_F1s</a></code> or <code><a href="get_many_RPFs.html">get_many_RPFs</a></code>.</p>


<p>The data.frame will include string variables for the words in the combinations
called <code>combs</code> for each dimension.
Do not use these columns passing the dictionaries on to <code><a href="get_many_F1s.html">get_many_F1s</a></code>,
as this will result in a
faulty average representation, caused by how representations for multi-word expressions
are queried.</p>


<p>Additionally, the data.frame includes a rowid, a count variable for the number of words
overall (<code>sum_nterms</code>),
and counts for each dimension, which can be used to remove imbalanced dictionaries.
If requested, <code>settings</code> stores the randomization settings,
and <code>input</code> the words and dimensions used as input.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Takes a data.frame <code>word_df</code> with a character column specified by <code>words</code>
as input.
As default, it will return all combinations of various lengths of these words.
Additionally, the function can account for conceptual dimensions, identified by
a categorical (character, numerical, or factor)
column in <code>word_df</code> specified by <code>dims</code>. If dimensions are specified, the function
will find all combinations for each dimension, and
will return all combinations of these combinations. CAUTION: This can lead quickly
to an extremely large number of combinations.</p>
<p>The number of combinations can be limited in several ways:</p>
<p>Firstly, the minimum number of words returned per dimension is specified by <code>min_per_dim</code>, the maximum number of words overall is set by <code>max_overall</code>.</p>
<p>Secondly, the function allows for random sampling of combinations.
This is recommended, as it drastically reduces the number of returned combinations,
reduces the computational load, and speeds up the process. (Of course, this comes at
the cost of completeness).
Random sampling is implemented using the <code><a href="https://rdrr.io/pkg/RcppAlgos/man/combinatoricsSample.html" class="external-link">comboSample</a></code> function.
Setting a <code>limit</code> will cap the number of combinations
of equal length for each dimension.</p>
<p>E.g., if <code>limit = 5</code>, <code>min_per_dim = 2</code>, <code>max_overall = 6</code> is set for a <code>word_df</code>
containing two dimensions <code>a</code> and <code>b</code>,
the function will pick max. five combinations of length 2 for <code>a</code>, and five of
length 2 for <code>b</code>, five of length 3 for <code>a</code>,
and five of length 3 for <code>b</code>, and will return all combinations of these combinations.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">test_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>words <span class="op">=</span> <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                      dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"c_"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">t0</span> <span class="op">&lt;-</span> <span class="fu">get_combis</span><span class="op">(</span><span class="va">test_df</span>,</span></span>
<span class="r-in"><span>                 word_field <span class="op">=</span> <span class="st">"words"</span>,</span></span>
<span class="r-in"><span>                 dims <span class="op">=</span> <span class="st">"dim"</span>,</span></span>
<span class="r-in"><span>                 max_overall <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Joining, by = "rowid"</span>
<span class="r-in"><span><span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu">get_combis</span><span class="op">(</span><span class="va">test_df</span>,</span></span>
<span class="r-in"><span>                 word_field <span class="op">=</span> <span class="st">"words"</span>,</span></span>
<span class="r-in"><span>                 dims <span class="op">=</span> <span class="st">"dim"</span>,</span></span>
<span class="r-in"><span>                 max_overall <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>                 limit <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Joining, by = "rowid"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Daniel Thiele.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

